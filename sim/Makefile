########################################
#  This file was generated by hdlmake  #
#  http://ohwr.org/projects/hdl-make/  #
########################################

TOP_MODULE := RippleCarryAdder_tb
PWD := $(shell pwd)

GHDL_OPT := 

#target for performing local simulation
local: sim_pre_cmd simulation sim_post_cmd

VERILOG_SRC := 
VERILOG_OBJ := 
VHDL_SRC := ../src/FullAdder.vhd \
../src/RippleCarryAdder.vhd \
../test/RippleCarryAdder_tb.vhd \

VHDL_OBJ := work/FullAdder/.FullAdder_vhd \
work/RippleCarryAdder/.RippleCarryAdder_vhd \
work/RippleCarryAdder_tb/.RippleCarryAdder_tb_vhd \

simulation: $(VERILOG_OBJ) $(VHDL_OBJ)
		ghdl -e $(TOP_MODULE)


work/FullAdder/.FullAdder_vhd: ../src/FullAdder.vhd
		ghdl -a $<
		@mkdir -p $(dir $@) && touch $@ 


work/RippleCarryAdder/.RippleCarryAdder_vhd: ../src/RippleCarryAdder.vhd \
work/FullAdder/.FullAdder_vhd
		ghdl -a $<
		@mkdir -p $(dir $@) && touch $@ 


work/RippleCarryAdder_tb/.RippleCarryAdder_tb_vhd: ../test/RippleCarryAdder_tb.vhd \
work/RippleCarryAdder/.RippleCarryAdder_vhd
		ghdl -a $<
		@mkdir -p $(dir $@) && touch $@ 


# USER SIM COMMANDS
sim_pre_cmd:
		
sim_post_cmd:
		ghdl -r RippleCarryAdder_tb --stop-time=1000us --vcd=RippleCarryAdder_tb.vcd; gtkwave RippleCarryAdder_tb.vcd

CLEAN_TARGETS := $(LIBS) *.cf *.o $(TOP_MODULE) work

clean:
		rm -rf $(CLEAN_TARGETS)
mrproper: clean
		rm -rf *.vcd

.PHONY: mrproper clean sim_pre_cmd sim_post_cmd simulation
